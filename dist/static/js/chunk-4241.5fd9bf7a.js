(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4241"],{2925:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{background:"#ffffff"}},[t._m(0),a("div",{staticStyle:{"margin-top":"8px"}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabChange}},[a("el-tab-pane",{attrs:{label:"实例数列表"}},[a("list-panel",[a("template",{slot:"main"},[a("el-table",{staticClass:"list",staticStyle:{width:"100%"},attrs:{data:t.searchList,"highlight-current-row":"",stripe:""}},[a("el-table-column",{attrs:{prop:"podName",label:"podName",width:"300"}}),a("el-table-column",{attrs:{prop:"ip",label:"Ip",width:"300"}}),a("el-table-column",{attrs:{prop:"port",label:"端口",width:"300"}}),a("el-table-column",{attrs:{prop:"node",label:"node",width:"300"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"tableActionStyle",attrs:{href:t.downloadHref(e.row.podName),target:"_blank"}},[t._v("下载日志")]),"<no value>"!=e.row.monitorUrl?a("a",{staticClass:"tableActionStyle",attrs:{href:e.row.monitorUrl,target:"_blank"}},[t._v("监控")]):t._e()]}}])})],1)],1),a("template",{slot:"pagination"},[0!=t.listPaging.total?a("el-pagination",{staticClass:"pagination",attrs:{"page-size":t.listPaging.pageSize,total:t.listPaging.total,"current-page":t.listPaging.pageNo+1,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handlePageChange}}):t._e()],1)],2)],1),a("el-tab-pane",{attrs:{label:"部署历史"}},[a("search-panel",[a("el-form",{staticClass:"formPanel",attrs:{inline:!0,size:"small",model:t.searchCriteria,"label-width":"80px"}},[a("div",{staticClass:"searchCriteriaContent"},[a("el-form-item",{attrs:{label:"人员"}},[a("el-input",{model:{value:t.searchCriteria.creatorName,callback:function(e){t.$set(t.searchCriteria,"creatorName",e)},expression:"searchCriteria.creatorName"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchListMethod()}}},[t._v("搜索")])],1)],1)],1),a("list-panel",[a("template",{slot:"main"},[a("el-table",{staticClass:"list",staticStyle:{width:"100%"},attrs:{data:t.searchList,"highlight-current-row":"",stripe:""}},[a("el-table-column",{attrs:{prop:"version",label:"版本号",width:"180"}}),a("el-table-column",{attrs:{prop:"uploadMode",label:"发布方式",width:"180"}}),a("el-table-column",{attrs:{prop:"uploadType",label:"发布类型"}}),a("el-table-column",{attrs:{prop:"statusLabel",label:"状态"}}),a("el-table-column",{attrs:{prop:"creatorName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"部署时间"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"icon iconfont icon-ic-change",class:[{tableLastButtonStyleW:!0}],on:{click:function(a){t.changeType(e.row.id)}}},[t._v("版本切换")])]}}])})],1)],1),a("template",{slot:"pagination"},[0!=t.listPaging.total?a("el-pagination",{staticClass:"pagination",attrs:{"page-size":t.listPaging.pageSize,total:t.listPaging.total,"current-page":t.listPaging.pageNo+1,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handlePageChange}}):t._e()],1)],2)],1)],1)],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-bottom":"1px #edeff4 solid",height:"46px","line-height":"46px"}},[a("span",{staticClass:"title-style"},[t._v("综合平台技术框架")])])}],n=(a("f751"),a("327b")),r=a("2f62"),l={name:"DetailedList",data:function(){return{titleText:"",tabType:"0",searchExample:{projectId:this.$route.params.id,pageNo:0,pageSize:10},searchCriteria:{projectId:this.$route.params.id,creatorName:"",pageNo:0,pageSize:10}}},mounted:function(){this.searchListMethod()},methods:Object(n["a"])({},Object(r["b"])(["getHistoryList","getExampleList","changeVersion"]),{searchListMethod:function(){if("0"==this.tabType){var t=this.searchExample;this.getExampleList(t)}else if("1"==this.tabType){var e=this.searchCriteria;this.getHistoryList(e)}},reset:function(){this.searchCriteria={projectId:this.$route.params.id,creatorName:"",pageNo:0,pageSize:10}},tabChange:function(t){this.tabType=t.index,this.reset(),this.searchListMethod()},handleSizeChange:function(t){if("0"==this.tabType){var e=Object.assign({},this.searchExample,{pageSize:t});this.$set(this.searchExample,"pageSize",t),this.getExampleList(e)}else if("1"==this.tabType){var a=Object.assign({},this.searchCriteria,{pageSize:t});this.$set(this.searchCriteria,"pageSize",t),this.getHistoryList(a)}},handlePageChange:function(t){if("0"==this.tabType){var e=Object.assign({},this.searchExample,{pageNo:t-1});this.getExampleList(e)}else if("1"==this.tabType){var a=Object.assign({},this.searchCriteria,{pageNo:t-1});this.getHistoryList(a)}},changeType:function(t){var e=this;this.$confirm("切换后，线上将变更为此版本，是否继续？","确定将线上版本切换至此版本？",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var a=Object.assign({deployId:t});e.changeVersion(a).then(function(t){"200"==t.data.result.status?e.$message({type:"success",message:"切换版本成功！"}):e.$message({type:"error",message:"切换版本失败！"})})}).catch(function(){e.$message({type:"error",message:"切换版本失败！"})})},downloadHref:function(t){return"".concat(this.g_Config.BASE_URL,"/project/downloadLog/").concat(t,".text")}}),computed:Object(n["a"])({},Object(r["d"])({searchList:function(t){return t.project.searchList},listPaging:function(t){return t.project.listPaging}}))},o=l,c=(a("ef01"),a("983a")),p=Object(c["a"])(o,i,s,!1,null,"62b062d6",null);p.options.__file="DetailedList.vue";e["default"]=p.exports},"6cd1":function(t,e,a){var i=a("a458");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("85cb").default;s("a4bc9282",i,!0,{sourceMap:!1,shadowMode:!1})},a458:function(t,e,a){e=t.exports=a("ed9b")(!1),e.push([t.i,"\n.title-style[data-v-62b062d6]{color:#3a3a3a;font-family:PingFangSC-Medium;font-size:14px;font-weight:800;letter-spacing:0;margin-left:21px\n}\n.tableLastButtonStyleW[data-v-62b062d6]{background:#fff;border:1px solid #c2defb;border-radius:4px;color:#016ad5;font-family:PingFangSC-Semibold;font-size:12px;height:24px;margin-left:10px;margin-top:23px;padding:0 10px\n}\n.tableActionStyle[data-v-62b062d6]{color:#016ad5;font-family:PingFangSC-Medium;font-size:12px;letter-spacing:.86px;margin-right:10px;text-align:left\n}",""])},ef01:function(t,e,a){"use strict";var i=a("6cd1"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-4241.5fd9bf7a.js.map